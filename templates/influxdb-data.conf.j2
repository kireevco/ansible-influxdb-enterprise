### Welcome to the InfluxDB Enterprise configuration file (generated by Ansible).

# Once every 24 hours InfluxDB Enterprise will report anonymous data to m.influxdb.com
# The data includes raft id (random 8 bytes), os, arch, version, and metadata.
# We don't track ip addresses of servers reporting. This is only used
# to track the number of instances running and the versions, which
# is very helpful for us.

# Change this option to true to disable reporting.
reporting-disabled = {{ influx_data_disable_reporting|lower|mandatory }}
hostname = "{{ ansible_hostname|mandatory }}"
meta-tls-enabled = {{ influx_data_meta_tls_enabled|lower|mandatory }}
bind-address = "{{ influx_data_bind_address }}:{{ influx_data_bind_port|mandatory }}"

[enterprise]
  registration-enabled = {{ influx_data_registration_enabled|lower|mandatory }}
  registration-server-url = "{{ influx_data_registration_server_url|default("", true) }}"
  license-key = "{{ influx_enterprise_license_key|default("", true) }}"
  license-path = "{{ influx_enterprise_license_path }}"

# The meta section can be disregarded
[meta]
  dir = "/var/lib/influxdb/meta"

[data]
  enabled = {{ influx_data_enabled|lower|mandatory }}
  dir = "{{ influx_data_dir|mandatory }}"
  max-wal-size = {{ influx_data_max_wal_size|mandatory }}
  wal-flush-interval = "{{ influx_data_wal_flush_interval|mandatory }}"
  wal-partition-flush-delay = "{{ influx_data_wal_partition_flush_delay|mandatory }}"
  wal-dir = "{{ influx_data_wal_dir|mandatory }}"
  wal-logging-enabled = {{ influx_data_wal_logging_enabled|lower|mandatory }}
  wal-ready-series-size = {{ influx_data_wal_ready_series_size|mandatory }}
  wal-compaction-threshold = {{ influx_data_wal_compaction_threshold|mandatory }}
  wal-max-series-size = {{ influx_data_wal_max_series_size|mandatory }}
  wal-flush-cold-interval = "{{ influx_data_wal_flush_cold_interval|mandatory }}"
  wal-partition-size-threshold = {{ influx_data_wal_partition_size_threshold|mandatory }}
  query-log-enabled = {{ influx_data_query_log_enabled|lower|mandatory }}
  cache-max-memory-size = {{ influx_data_cache_max_memory_size|mandatory }}
  cache-snapshot-memory-size = {{ influx_data_cache_snapshot_memory_size|mandatory }}
  cache-snapshot-write-cold-duration = "{{ influx_data_cache_snapshot_write_cold_duration|mandatory }}"
  compact-full-write-cold-duration = "{{ influx_data_compact_full_write_cold_duration|mandatory }}"
  max-points-per-block = {{ influx_data_max_points_per_block|mandatory }}
  data-logging-enabled = {{ influx_data_data_logging_enabled|lower|mandatory }}

[cluster]
  force-remote-mapping = {{ influx_data_force_remote_mapping|lower|mandatory }}
  write-timeout = "{{ influx_data_write_timeout|mandatory }}"
  shard-writer-timeout = "{{ influx_data_shard_writer_timeout|mandatory }}"
  max-remote-write-connections = {{ influx_data_max_remote_write_connections|mandatory }}
  shard-mapper-timeout = "{{ influx_data_shard_mapper_timeout|mandatory }}"

[retention]
  enabled = {{ influx_data_retention_enabled|lower|mandatory }}
  check-interval = "{{ influx_data_retention_check_interval|mandatory }}"

[shard-precreation]
  enabled = {{ influx_data_shard_precreation_enabled|lower|mandatory }}
  check-interval = "{{ influx_data_shard_precreation_check_interval|mandatory }}"
  advance-period = "{{ influx_data_shard_precreation_advance_period|mandatory }}"

[admin]
  enabled = {{ influx_data_admin_enabled|lower|mandatory }}
  bind-address = "{{ influx_data_admin_bind_address|mandatory }}"
  https-enabled = {{ influx_data_admin_https_enabled|lower|mandatory }}
  https-certificate = "{{ influx_data_admin_https_certificate|mandatory }}"

[monitor]
  store-enabled = {{ influx_data_monitor_store_enabled|lower|mandatory }}
  store-database = "{{ influx_data_monitor_store_database|mandatory }}"
  store-interval = "{{ influx_data_monitor_store_interval|mandatory }}"

[subscriber]
  enabled = {{ influx_data_subscriber_enabled|lower|mandatory }}

[http]
  enabled = {{ influx_data_http_enabled|lower|mandatory }}
  bind-address = "{{ influx_data_http_bind_address_hostname|default("", true) }}:{{ influx_data_http_bind_port|mandatory }}"
  auth-enabled = {{ influx_data_http_auth_enabled|lower|mandatory }}
  log-enabled = {{ influx_data_http_log_enabled|lower|mandatory }}
  write-tracing = {{ influx_data_http_write_tracing|lower|mandatory }}
  pprof-enabled = {{ influx_data_http_pprof_enabled|lower|mandatory }}
  https-enabled = {{ influx_data_http_https_enabled|lower|mandatory }}
  https-certificate = "{{ influx_data_http_https_certificate|mandatory }}"

[continuous_queries]
  log-enabled = {{ influx_data_cq_log_enabled|lower|mandatory }}
  enabled = {{ influx_data_cq_enabled|lower|mandatory }}
  run-interval = "{{ influx_data_cq_run_interval|mandatory }}"

[hinted-handoff]
  enabled = {{ influx_data_hh_enabled|lower|mandatory }}
  dir = "{{ influx_data_hh_dir|mandatory }}"
  max-size = {{ influx_data_hh_max_size|mandatory }}
  max-age = "{{ influx_data_hh_max_age|mandatory }}"
  retry-rate-limit = {{ influx_data_hh_retry_rate_limit|mandatory }}
  retry-interval = "{{ influx_data_hh_retry_interval|mandatory }}"
  retry-max-interval = "{{ influx_data_hh_retry_max_interval|mandatory }}"
  purge-interval = "{{ influx_data_hh_purge_interval|mandatory }}"
